# https://www.fvwm.org/Man/fvwm3commands/

Style * ResizeOpaque
GeometryWindow Hide
OpaqueMoveSize unlimited

DefaultFont "xft:Ubuntu Mono:style=Regular:size=13"

# == Pager/Desktops ==
DeskTopSize 2 2
# 2 x 2 desktops
# Allow moving windows between desktops, but with a bit of resistance.
EdgeResistance 150 150
# Never scroll to next desktop using mouse.
EdgeScroll 0 0

# Set up icon manager.
*FvwmIconMan: Font "xft:Ubuntu Mono:style=Regular:size=12"
*FvwmIconMan: ManagerGeometry 1x0-0+122
*FvwmIconMan: ButtonGeometry 119x0

# Customize the button layout for the Icon Manager.
*FvwmIconMan: Format "%t"

# == Window colors and styles ==
Style * BorderWidth 2, HandleWidth 2          # thin borders
Style * !Title, !Handles, !Button           # REMOVE titlebar and all buttons
Style * FirmBorder                          # makes all 4 sides look identical


# Border colors
# Inactive border
Colorset 17 fg #ffffff, bg #285577, PlainBorder

# Active/focused border – bright i3 blue
Colorset 16 fg #ffffff, bg #1e90ff, PlainBorder
Style * HilightColorset 16
Style * Colorset 17

# == Menu styles ==

# Colorset for menu titles.
ColorSet 18 fg white, bg Gray40

# Fast popups, filled submenu triangles, TWM-style titles.
MenuStyle * Mwm, PopupImmediately, PopdownImmediately, PopupOffset 0 100
MenuStyle * VerticalItemSpacing 1 1, VerticalTitleSpacing 1 1
MenuStyle * HilightBack SteelBlue4, ActiveFore White,
MenuStyle * Hilight3DOff, TrianglesUseFore, TrianglesSolid
MenuStyle * TitleColorset 18, HilightTitleBack
MenuStyle * BorderWidth 1, TitleUnderlines1, ItemFormat "  %l%>  "
# Menu Font
MenuStyle * Font "xft:Ubuntu Mono:style=Regular:size=12"

# == Various flags and styles ==
# 250ms = Click.
ClickTime 250

#Style "*" PositionPlacement UnderMouse # Window Placement: New windows are placed directly under the mouse pointer.
Style * PlacementPolicy Pointer
Style * PositionPlacement UnderMouse

# Listeners for root window (the "desktop").
Mouse 1 W 4 Move-or-Raise
Mouse 1 R A Nop
#Mouse 1   W   M   Move
Mouse 2 W 4 Lower

Mouse 1 I A Iconify off

Style * FocusFollowsMouse, MouseFocus, FPClickRaisesFocused # Focus follows mouse instantly on enter, no click needed
Style * FPClickToFocusRaisesOff                             # don’t steal focus when you click a window that is already focused
MouseFocus                                                  # If you want sloppy focus

# == Window Handling Functions ==

# Move and raise a window.
AddToFunc Move-or-Raise
 + I Raise
 + M Move
 + D Maximize

# Raise and Focus window.
AddToFunc Raise-and-Focus
 + I Iconify Off
 + I Raise
 + I Focus

# Move Window + Cursor without entering move mode.
# Couldn't get function args working here so one for each direction :-(
# 30px move:
AddToFunc WinAndCursLeft
 + I Move w-30p w+0
 + I CursorMove -30p 0
AddToFunc WinAndCursRight
 + I Move w+30p w+0
 + I CursorMove +30p 0
AddToFunc WinAndCursUp
 + I Move w+0 w-30p
 + I CursorMove 0 -30p
AddToFunc WinAndCursDown
 + I Move w+0 w+30p
 + I CursorMove 0 +30p

# 100px move:
AddToFunc WinAndCursLeftS
 + I Move w-100p w+0
 + I CursorMove -100p 0
AddToFunc WinAndCursRightS
 + I Move w+100p w+0
 + I CursorMove +100p 0
AddToFunc WinAndCursUpS
 + I Move w+0 w-100p
 + I CursorMove 0 -100p
AddToFunc WinAndCursDownS
 + I Move w+0 w+100p
 + I CursorMove 0 +100p

# Resize Window + Move Cursor without entering resize mode.
AddToFunc IncreaseWidth
 + I Resize br w+50p w+0
 + I CursorMove +50p 0
AddToFunc DecreaseWidth
 + I Resize br w-50p w+0
 + I CursorMove -50p 0
AddToFunc IncreaseHeight
 + I Resize br w+0 w+50p
 + I CursorMove 0 +50p
AddToFunc DecreaseHeight
 + I Resize br w+0 w-50p
 + I CursorMove 0 -50p

# == Keyboard bindings ==

IgnoreModifiers L25 # Ignore Num Lock.

Key 1 A 4 MoveToPage 0 0
Key 2 A 4 MoveToPage 1 0
Key 3 A 4 MoveToPage 0 1
Key 4 A 4 MoveToPage 1 1

Key R A S4 Restart # mod + shift + r = restart
Key E A S4 Quit    # mod + shift + e = exit

Key M A 4 Maximize # Win + m = Maximize window

# Paging: Windows key + arrows moves to the
# next desktop in the desired direction.
Key Left  A 4 Scroll -100 0
Key Right A 4 Scroll +100 +0
Key Up    A 4 Scroll +0 -100
Key Down  A 4 Scroll +0 +100

Key Tab A 4 Resize # Activate resize window mode: Win + tab.
Mouse 3 A 4 Resize warptoborder automatic

Key e A 4 Exec emacs &   # Start emacs: Windows key + e.
Key i A 4 Exec floorp &  # Start floorp: Windows key + f.
Key s A 4 Exec steam &   # Start steam: Windows key + s.
Key d A 4 Exec discord & # Start discord: Windows key + d.
Key f A 4 Exec pcmanfm &
#Key c A 4 Exec xclock -digital & # Start xclock: Windows key + c.
Key c A 4 Exec notify-send -t 2000 "$(date)"

Key P A 4 Exec rofi -combi drun,run -show drun -show-icons # Show demenu / rofi

Key Tab    A    M    Exec rofi -show window -show-icons # alt tab
Key Tab    A   MS    Exec rofi -show window -show-icons # alt tab

Key z A 4 Delete   # Kill a window with win+z
Key z A S4 Destroy # Force kill a window with win+z
Key minus A 4 Iconify

Key Return A 4 Exec alacritty & # New terminal: Win + Enter.

Key bracketright A 4 Exec ibus engine anthy
Key bracketleft A 4 Exec /bin/sh -c 'ibus engine xkb:us::eng && /bin/sh /home/zdh/Scripts/kb && notify-send -t 1000 "Switched to EN"'

Exec exec dunst &

# == End of config file ==
